<!-- test-theme.html - Test architecture thème complexe -->
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Architecture Thème TopSteel</title>
    <style>
        :root {
            --color-background: 0 0% 100%;
            --color-foreground: 222.2 84% 4.9%;
            --color-primary: 221.2 83.2% 53.3%;
            --color-border: 214.3 31.8% 91.4%;
        }
        
        .dark {
            --color-background: 222.2 84% 4.9%;
            --color-foreground: 210 40% 98%;
            --color-primary: 217.2 91.2% 59.8%;
            --color-border: 217.2 32.6% 17.5%;
        }
        
        body {
            background-color: hsl(var(--color-background));
            color: hsl(var(--color-foreground));
            padding: 20px;
            font-family: Inter, sans-serif;
        }
        
        .test-card {
            background-color: hsl(var(--color-background));
            color: hsl(var(--color-foreground));
            border: 1px solid hsl(var(--color-border));
            padding: 20px;
            margin: 10px 0;
            border-radius: 8px;
        }
        
        .theme-btn {
            background-color: hsl(var(--color-primary));
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 6px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Test Architecture Thème TopSteel</h1>
    
    <div class="test-card">
        <h2>Variables CSS</h2>
        <p>Si vous voyez ce texte clairement, les variables CSS fonctionnent.</p>
        <p>Thème actuel: <span id="current-theme">system</span></p>
    </div>
    
    <div class="test-card">
        <h2>Test changement thème</h2>
        <button class="theme-btn" onclick="setTheme('light')">Clair</button>
        <button class="theme-btn" onclick="setTheme('dark')">Sombre</button>
        <button class="theme-btn" onclick="setTheme('system')">Système</button>
    </div>
    
    <script>
        function setTheme(theme) {
            document.getElementById('current-theme').textContent = theme;
            
            if (theme === 'dark') {
                document.documentElement.classList.add('dark');
                localStorage.setItem('erp-theme', 'dark');
            } else if (theme === 'light') {
                document.documentElement.classList.remove('dark');
                localStorage.setItem('erp-theme', 'light');
            } else {
                // System
                const isDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                if (isDark) {
                    document.documentElement.classList.add('dark');
                } else {
                    document.documentElement.classList.remove('dark');
                }
                localStorage.setItem('erp-theme', 'system');
            }
        }
        
        // Test initial
        const savedTheme = localStorage.getItem('erp-theme') || 'system';
        setTheme(savedTheme);
    </script>
</body>
</html>
