# =========================================================================
# ERP TOPSTEEL - CONFIGURATION PRINCIPALE UNIFIÉE
# =========================================================================
# Fichier centralisé à la racine pour tous les services

# ===== SERVICES PORTS =====
API_PORT=3002
WEB_PORT=3005
WS_PORT=3002

# ===== IP VERSION CONFIGURATION =====
# Options: 'auto', 'ipv4', 'ipv6'
# auto = détection automatique, ipv4 = force 127.0.0.1, ipv6 = force ::1
IP_VERSION=auto
API_HOST_IPV4=127.0.0.1
API_HOST_IPV6=::1

# ===== URLS PUBLIQUES =====
# Sera auto-configuré selon IP_VERSION si auto, sinon utilisera les valeurs ci-dessous
NEXT_PUBLIC_API_URL=http://127.0.0.1:3002

# ===== API VERSIONING =====
# Version de l'API à utiliser par défaut (v1, v2, etc.)
NEXT_PUBLIC_API_VERSION=v1
NEXT_PUBLIC_APP_URL=http://127.0.0.1:3005
NEXT_PUBLIC_WS_URL=ws://[::1]:3002

# ===== URL INTERNE (Serveur vers Serveur) =====
INTERNAL_API_URL=http://[::1]:3002

# ===== APPLICATION =====
NODE_ENV=development
APP_NAME=ERP TopSteel
APP_VERSION=1.0.0
NEXT_PUBLIC_APP_NAME=ERP TopSteel

APP_BUILD_DATE=2025-07-22

APP_COMMIT_HASH=7089538

# ===== BASE DE DONNÉES =====
DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:5432/erp_topsteel
DB_HOST=127.0.0.1
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=postgres
DB_NAME=erp_topsteel
DB_SSL=false
DB_TYPE=postgres
DB_SYNCHRONIZE=true
DB_LOGGING=true

# Configuration avancée base de données
AUTO_RUN_MIGRATIONS=true
AUTO_RUN_SEEDS=true
ALLOW_PRODUCTION_MIGRATIONS=false
DB_POOL_SIZE=10
DB_CONNECTION_TIMEOUT=30000
USE_SYNC=true

# ===== JWT SÉCURITÉ =====
JWT_SECRET=development-secret-key-min-32-chars-long-topsteel-erp
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=development-refresh-secret-key-32-chars-topsteel
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=topsteel-erp
JWT_AUDIENCE=topsteel-users

# ===== NEXTAUTH =====
NEXTAUTH_URL=http://127.0.0.1:3005
NEXTAUTH_SECRET=development-nextauth-secret-topsteel-erp

# ===== CORS ET FRONTEND =====
FRONTEND_URL=http://127.0.0.1:3005
API_CORS_ORIGIN=http://127.0.0.1:3005

# ===== REDIS (OPTIONNEL) =====
REDIS_ENABLED=false
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ===== LOGS ET DEBUG =====
LOG_LEVEL=debug
LOG_FILE=false
LOG_DIR=logs
DEBUG=false
NEXT_PUBLIC_LOG_LEVEL=error

# ===== RATE LIMITING =====
THROTTLE_TTL=60000
THROTTLE_LIMIT=100

# ===== FEATURES FLAGS =====
NEXT_PUBLIC_ENABLE_3D_VIEWER=true
NEXT_PUBLIC_ENABLE_CHAT=false
NEXT_PUBLIC_ENABLE_ADVANCED_REPORTS=true

# ===== CONFIGURATION NEXT.JS =====
ANALYZE=false
DOCKER=false
NEXT_TELEMETRY_DISABLED=1
TURBOPACK=false

# ===== SERVICES EXTERNES =====
# Email
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=

# Upload
UPLOAD_MAX_SIZE=10485760
UPLOAD_DIR=uploads
UPLOAD_ALLOWED_TYPES=image/*,application/pdf
UPLOADTHING_SECRET=
UPLOADTHING_APP_ID=

# Analytics et monitoring
GOOGLE_ANALYTICS_ID=
NEXT_PUBLIC_SENTRY_DSN=
SENTRY_ORG=topsteel
SENTRY_PROJECT=erp-web

# ===== SÉCURITÉ =====
ENCRYPTION_KEY=topsteel-32-character-encryption-key

# ===== MODULES TOPSTEEL =====
MODULE_PRODUCTION=true
MODULE_FACTURATION=true
MODULE_STOCKS=true
MODULE_DOCUMENTS=true

# ===== LOCALISATION =====
DEFAULT_TIMEZONE=Europe/Paris
DEFAULT_LOCALE=fr-FR
DEFAULT_CURRENCY=EUR

# ===== LIMITES BUSINESS =====
MAX_PROJECTS_PER_CLIENT=100
MAX_UPLOAD_SIZE_MB=10
SESSION_TIMEOUT_MINUTES=480

# ===== TEST ET DÉVELOPPEMENT =====
DATABASE_URL_TEST=postgresql://postgres:postgres@127.0.0.1:5432/topsteel_test