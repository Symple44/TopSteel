# ========================================
# üîí FICHIER DE CONFIGURATION - PRODUCTION
# ========================================
# Copier ce fichier en .env.local et remplir les valeurs
# NE JAMAIS COMMITER .env.local dans Git !

# ========================================
# APPLICATION
# ========================================
NODE_ENV=production
APP_NAME=TopSteel ERP
APP_URL=https://your-domain.com
APP_PORT=3002

# Frontend URL
FRONTEND_URL=https://your-frontend-domain.com
NEXT_PUBLIC_API_URL=https://your-api-domain.com

# ========================================
# S√âCURIT√â - SECRETS
# ========================================
# ‚ö†Ô∏è IMPORTANT: G√©n√©rer des secrets uniques et complexes
# Utiliser: openssl rand -base64 32

# JWT Secrets (minimum 32 caract√®res)
JWT_SECRET=CHANGEME_generate_secure_random_string_min_32_chars
JWT_REFRESH_SECRET=CHANGEME_generate_different_secure_random_string
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Encryption Keys
ENCRYPTION_KEY=CHANGEME_generate_256_bit_key
ENCRYPTION_IV=CHANGEME_generate_128_bit_iv

# ========================================
# BASE DE DONN√âES - PRINCIPALE
# ========================================
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=topsteel_prod
DB_PASSWORD=CHANGEME_strong_database_password
DB_NAME=topsteel_main

# Pool de connexions
DB_POOL_MIN=2
DB_POOL_MAX=10

# ========================================
# BASE DE DONN√âES - AUTH
# ========================================
AUTH_DB_HOST=localhost
AUTH_DB_PORT=5432
AUTH_DB_USERNAME=topsteel_auth
AUTH_DB_PASSWORD=CHANGEME_strong_auth_password
AUTH_DB_NAME=topsteel_auth

# ========================================
# REDIS
# ========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=CHANGEME_redis_password
REDIS_DB=0
REDIS_TTL=86400

# ========================================
# EMAIL (SMTP)
# ========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=CHANGEME_app_specific_password
SMTP_FROM=noreply@topsteel.com

# ========================================
# STOCKAGE FICHIERS
# ========================================
# Local ou S3
STORAGE_TYPE=local
STORAGE_PATH=./uploads

# AWS S3 (si STORAGE_TYPE=s3)
AWS_ACCESS_KEY_ID=CHANGEME_aws_access_key
AWS_SECRET_ACCESS_KEY=CHANGEME_aws_secret_key
AWS_REGION=eu-west-3
AWS_S3_BUCKET=topsteel-uploads

# ========================================
# MONITORING & LOGS
# ========================================
# Sentry
SENTRY_DSN=https://CHANGEME@sentry.io/YOUR_PROJECT_ID

# LogLevel: error | warn | info | debug | verbose
LOG_LEVEL=info
LOG_FILE_PATH=./logs/app.log

# ========================================
# RATE LIMITING & S√âCURIT√â
# ========================================
# Throttling
THROTTLE_TTL=60
THROTTLE_LIMIT=100

# CORS
CORS_ORIGIN=https://your-frontend-domain.com
CORS_CREDENTIALS=true

# Sessions
SESSION_SECRET=CHANGEME_session_secret_min_32_chars
SESSION_MAX_AGE=86400000

# MFA
MFA_ISSUER=TopSteel ERP
MFA_EMERGENCY_BYPASS_ENABLED=false

# ========================================
# FEATURES FLAGS
# ========================================
ENABLE_MFA=true
ENABLE_API_DOCS=false
ENABLE_DEBUG_MODE=false
ENABLE_QUERY_LOGGING=false

# ========================================
# LICENSE MANAGEMENT
# ========================================
LICENSE_ALLOW_WITHOUT=true           # Permettre l'acc√®s sans licence (dev: true, prod: false)
LICENSE_AUTO_CREATE_TRIAL=true       # Cr√©er automatiquement une licence d'essai
LICENSE_DEFAULT_MAX_USERS=5          # Nombre d'utilisateurs par d√©faut
LICENSE_DEFAULT_MAX_SITES=1          # Nombre de sites par d√©faut
LICENSE_TRIAL_DAYS=30                # Dur√©e de la p√©riode d'essai en jours

# ========================================
# NOTES IMPORTANTES DE S√âCURIT√â
# ========================================
# 1. NE JAMAIS commiter ce fichier avec des valeurs r√©elles
# 2. Utiliser un gestionnaire de secrets (Vault, AWS Secrets Manager)
# 3. Rotation r√©guli√®re des secrets (tous les 90 jours)
# 4. Utiliser des mots de passe forts et uniques
# 5. Activer l'audit trail pour tous les acc√®s sensibles
# 6. Configurer les backups automatiques
# 7. Monitorer les tentatives d'acc√®s suspicieuses

# ========================================
# COMMANDES UTILES
# ========================================
# G√©n√©rer un secret s√©curis√©:
# openssl rand -base64 32
#
# Tester la configuration:
# npm run config:validate