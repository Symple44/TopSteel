# Makefile pour ERP MÃ©tallerie
# Commandes utiles pour le dÃ©veloppement

.PHONY: help install dev build start clean test lint format docker-up docker-down

# Afficher l'aide
help:
	@echo "ğŸ“‹ Commandes disponibles:"
	@echo ""
	@echo "  make install    - Installer les dÃ©pendances"
	@echo "  make dev        - Lancer en mode dÃ©veloppement"
	@echo "  make build      - Compiler pour la production"
	@echo "  make start      - Lancer la version de production"
	@echo "  make clean      - Nettoyer les fichiers gÃ©nÃ©rÃ©s"
	@echo "  make test       - Lancer les tests"
	@echo "  make lint       - VÃ©rifier le code"
	@echo "  make format     - Formater le code"
	@echo "  make docker-up  - Lancer avec Docker"
	@echo "  make docker-down - ArrÃªter Docker"
	@echo ""

# Installer les dÃ©pendances
install:
	@echo "ğŸ“¦ Installation des dÃ©pendances..."
	@npm install

# Lancer en mode dÃ©veloppement
dev:
	@echo "ğŸš€ Lancement en mode dÃ©veloppement..."
	@npm run dev

# Compiler pour la production
build:
	@echo "ğŸ”¨ Compilation pour la production..."
	@npm run build

# Lancer la version de production
start:
	@echo "ğŸš€ Lancement de la version de production..."
	@npm run start

# Nettoyer les fichiers gÃ©nÃ©rÃ©s
clean:
	@echo "ğŸ§¹ Nettoyage des fichiers gÃ©nÃ©rÃ©s..."
	@rm -rf .next
	@rm -rf node_modules
	@rm -rf dist
	@rm -rf coverage
	@echo "âœ… Nettoyage terminÃ©"

# Lancer les tests
test:
	@echo "ğŸ§ª Lancement des tests..."
	@npm run test

# VÃ©rifier le code
lint:
	@echo "ğŸ” VÃ©rification du code..."
	@npm run lint
	@npm run type-check

# Formater le code
format:
	@echo "âœ¨ Formatage du code..."
	@npm run format

# Lancer avec Docker
docker-up:
	@echo "ğŸ³ Lancement avec Docker..."
	@docker-compose up -d

# ArrÃªter Docker
docker-down:
	@echo "ğŸ³ ArrÃªt de Docker..."
	@docker-compose down

# Installation complÃ¨te (premiÃ¨re fois)
setup: install
	@echo "ğŸ‰ Configuration initiale terminÃ©e!"
	@echo ""
	@echo "Prochaines Ã©tapes:"
	@echo "1. Configurez votre fichier .env.local"
	@echo "2. Lancez 'make dev' pour dÃ©marrer"
	@echo ""