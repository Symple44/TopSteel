# TopSteel ERP Production Environment Variables
# Copy this file to .env.production and update with your production values

# ============================================
# APPLICATION SETTINGS
# ============================================

# Node environment
NODE_ENV=production

# Application URLs
APP_URL=https://erp.topsteel.com
API_URL=https://api.topsteel.com
NEXT_PUBLIC_API_URL=https://api.topsteel.com

# Application Ports
WEB_PORT=3005
API_PORT=3002
AUTH_SERVICE_PORT=3003
NOTIFICATION_SERVICE_PORT=3004

# ============================================
# DATABASE CONFIGURATION
# ============================================

# PostgreSQL Main Database
DB_HOST=your-production-db-host
DB_PORT=5432
DB_NAME=erp_topsteel_topsteel
DB_USER=topsteel_prod
DB_PASSWORD=your-secure-password-here

# PostgreSQL Auth Database
AUTH_DB_HOST=your-production-db-host
AUTH_DB_PORT=5432
AUTH_DB_NAME=erp_topsteel_auth
AUTH_DB_USER=topsteel_auth_prod
AUTH_DB_PASSWORD=your-secure-auth-password-here

# Database Pool Settings
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_CONNECTION_TIMEOUT=60000

# ============================================
# REDIS CONFIGURATION
# ============================================

REDIS_HOST=your-redis-host
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0
REDIS_TTL=3600

# Redis Cluster (if applicable)
REDIS_CLUSTER_ENABLED=false
REDIS_CLUSTER_NODES=node1:6379,node2:6379,node3:6379

# ============================================
# ELASTICSEARCH CONFIGURATION
# ============================================

ELASTICSEARCH_NODE=https://your-elasticsearch-host:9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=your-elastic-password
ELASTICSEARCH_INDEX_PREFIX=topsteel_prod

# ============================================
# AUTHENTICATION & SECURITY
# ============================================

# JWT Configuration
JWT_SECRET=your-production-jwt-secret-min-32-chars
JWT_EXPIRATION=1d
JWT_REFRESH_SECRET=your-production-refresh-secret-min-32-chars
JWT_REFRESH_EXPIRATION=7d

# Session Configuration
SESSION_SECRET=your-production-session-secret-min-32-chars
SESSION_MAX_AGE=86400000

# CORS Settings
CORS_ORIGIN=https://erp.topsteel.com,https://www.topsteel.com
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# EMAIL CONFIGURATION
# ============================================

SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=noreply@topsteel.com
SMTP_PASSWORD=your-smtp-password
EMAIL_FROM=TopSteel ERP <noreply@topsteel.com>

# ============================================
# STORAGE CONFIGURATION
# ============================================

# File Upload Settings
UPLOAD_DIR=/var/data/topsteel/uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,doc,docx,xls,xlsx

# S3 Configuration (if using AWS S3)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=eu-west-1
S3_BUCKET=topsteel-prod-assets

# ============================================
# MONITORING & LOGGING
# ============================================

# Sentry Configuration
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# New Relic Configuration
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
NEW_RELIC_APP_NAME=TopSteel-ERP-Production

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
LOG_DIR=/var/log/topsteel

# ============================================
# EXTERNAL SERVICES
# ============================================

# Payment Gateway
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_live_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# SMS Service
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+33123456789

# ============================================
# FEATURE FLAGS
# ============================================

FEATURE_MARKETPLACE_ENABLED=true
FEATURE_ADVANCED_PRICING_ENABLED=true
FEATURE_ELASTICSEARCH_ENABLED=true
FEATURE_REDIS_CACHE_ENABLED=true
FEATURE_EMAIL_NOTIFICATIONS_ENABLED=true
FEATURE_SMS_NOTIFICATIONS_ENABLED=false
FEATURE_2FA_ENABLED=true

# ============================================
# PERFORMANCE & OPTIMIZATION
# ============================================

# Node.js Options
NODE_OPTIONS=--max-old-space-size=4096

# Next.js Configuration
NEXT_TELEMETRY_DISABLED=1
NEXT_STANDALONE=true

# Build Configuration
ANALYZE_BUNDLE=false

# ============================================
# BACKUP CONFIGURATION
# ============================================

BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=topsteel-backups

# ============================================
# SECURITY HEADERS
# ============================================

CSP_DIRECTIVES="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline';"
HSTS_MAX_AGE=31536000
X_FRAME_OPTIONS=DENY